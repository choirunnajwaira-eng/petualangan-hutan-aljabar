<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuis Aljabar</title>

  <!-- ======= MathJax Agar Equation Tampil ======= -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <!-- ============================================ -->

  <style>
    body {
      margin: 0;
      padding: 0;
      background:url("latarkuis2.png") no-repeat center center fixed;
      font-family: Arial, sans-serif;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    #bgVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
    }

    .quiz-box {
      background: #9b7a0e;
      padding: 30px;
      width: 90%;
      max-width: 600px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      text-align: center;
    }

    .question {
      font-size: 22px;
      margin-bottom: 20px;
      font-weight: bold;
    }

    .option {
      background: #185a08;
      padding: 15px;
      margin: 10px 0;
      border-radius: 15px;
      cursor: pointer;
      transition: 0.3s;
    }

    .option:hover {
      background: #3a3a3a;
    }

    .correct {
      background: #1f7a1f !important;
    }

    .wrong {
      background: #a31515 !important;
    }

    #nextBtn {
      margin-top: 20px;
      padding: 12px 25px;
      background: #185a08;
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 16px;
      cursor: pointer;
      display: none;
    }

    #scoreBox {
      font-size: 26px;
      display: none;
      margin-top: 30px;
    }

    #buttonArea {
      margin-top: 20px;
      text-align: center;
    }

    .btn {
      background: #185a08;
      color: white;
      border: none;
      padding: 12px 22px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      margin: 8px;
      width: 180px;
      transition: 0.25s;
    }

    .btn:hover {
      box-shadow: 0 0 20px 6px rgba(16,185,129,0.6);
      transform: scale(1.05);
    }
  </style>
</head>
<body>

  <div class="quiz-box">
    <div id="question" class="question">Loading...</div>
    <div id="options"></div>
    <button id="nextBtn" onclick="nextQuestion()">Next</button>
    <div id="scoreBox"></div>
    <div id="buttonArea"></div>
  </div>

 <script>
  const quiz = [
    {
      q: "Sederhanakan: \\(3x + 5x = \\ldots\\)",
      options: ["\\(8x\\)", "\\(15x\\)", "\\(3x^2\\)", "\\(5x^2\\)"],
      answer: 0,
      type: "mc"
    },
    {
      q: "Jika \\(x = 4\\), nilai dari \\(2x + 3\\) adalah \\(...\\)",
      options: ["\\(11\\)", "\\(10\\)", "\\(12\\)", "\\(9\\)"],
      answer: 0,
      type: "mc"
    },
    {
      q: "Bentuk aljabar dari 'dua bilangan \\(n\\) ditambah lima' adalah \\(...\\)",
      options: ["\\(2 + n + 5\\)", "\\(2n + 5\\)", "\\(n + 5n\\)", "\\(2 + 5n\\)"],
      answer: 1,
      type: "mc"
    },
    {
      q: "Sederhanakan: \\(7y - 2y = \\ldots\\)",
      options: ["\\(5y\\)", "\\(9y\\)", "\\(5y - 4\\)", "\\(7y + 2\\)"],
      answer: 0,
      type: "mc"
    },
    {
      q: "Jika \\(y = 3\\), nilai dari \\(y + 7\\) adalah \\(...\\)",
      options: ["\\(10\\)", "\\(11\\)", "\\(9\\)", "\\(12\\)"],
      answer: 0,
      type: "mc"
    },

    /* ======== Nomor 6â€“10: Isian Singkat ======== */
    {
      q: "Isikan jawaban: Sederhanakan \\(5a + 3b - 2a + b = \\ldots\\)",
      answerText: "3a+4b",
      type: "input"
    },
    {
      q: "Isikan jawaban: Jika \\(z = 5\\), hitung nilai dari \\(z + 6 - 3\\)",
      answerText: "8",
      type: "input"
    },
    {
      q: "Isikan jawaban: Sederhanakan \\(6p - 3p + 2q - q = \\ldots\\)",
      answerText: "3p+q",
      type: "input"
    },
    {
      q: "Isikan jawaban: Bentuk aljabar dari 'suatu bilangan \\(t\\) dikurangi tiga'",
      answerText: "t-3",
      type: "input"
    },
    {
      q: "Isikan jawaban: Sederhanakan \\(4m + 2 - 2m + 5 = \\ldots\\)",
      answerText: "2m+7",
      type: "input"
    }
  ];

  let index = 0;
  let score = 0;

  function loadQuestion() {
    const q = quiz[index];
    document.getElementById("question").innerHTML = q.q;

    const optBox = document.getElementById("options");
    optBox.innerHTML = "";

    if (q.type === "mc") {
      q.options.forEach((opt, i) => {
        const div = document.createElement("div");
        div.className = "option";
        div.innerHTML = opt;
        div.onclick = () => checkMC(div, i);
        optBox.appendChild(div);
      });
    } else {
      optBox.innerHTML = `
        <input id="shortAnswer" 
               type="text" 
               placeholder="Ketik jawaban..."
               style="
                 width: 80%;
                 padding: 12px;
                 border-radius: 10px;
                 border: none;
                 font-size: 18px;">
        <br><br>
        <button class="btn" onclick="checkInput()">Cek Jawaban</button>
      `;
    }

    MathJax.typeset();
  }

  function checkMC(selected, i) {
    const correctIndex = quiz[index].answer;

    const options = document.querySelectorAll('.option');
    options.forEach((opt, idx) => {
      if (idx === correctIndex) opt.classList.add('correct');
      else opt.classList.add('wrong');
      opt.style.pointerEvents = 'none';
    });

    if (i === correctIndex) score++;

    document.getElementById("nextBtn").style.display = "block";
  }

  function checkInput() {
    const user = document.getElementById("shortAnswer").value.trim().replace(/\s/g, "").toLowerCase();
    const correct = quiz[index].answerText.replace(/\s/g, "").toLowerCase();

    if (user === correct) {
      alert("Jawaban benar!");
      score++;
    } else {
      alert("Jawaban salah!");
    }

    document.getElementById("nextBtn").style.display = "block";
  }

  function nextQuestion() {
    index++;
    document.getElementById("nextBtn").style.display = "none";

    if (index < quiz.length) {
      loadQuestion();
    } else {
      document.getElementById("scoreBox").innerText =
        `Kamu menjawab benar ${score} dari ${quiz.length} soal!`;
      document.getElementById("scoreBox").style.display = "block";
      document.getElementById("question").style.display = "none";
      document.getElementById("options").style.display = "none";

      const area = document.getElementById("buttonArea");

      if (score <= 6) {
        area.innerHTML = `
          <a href="index1.html">
            <button class="btn">Tonton Ulang Materi</button>
          </a>
          <br><br>
          <button class="btn" onclick="location.reload()">Mulai Ulang Kuis</button>
        `;
      } else {
        area.innerHTML = `
          <a href="akhirkuis.html">
            <button class="btn">Lanjut</button>
          </a>
        `;
      }
    }
  }

  loadQuestion();
</script>
